{"file_name": "docs/integration/api/api-integration.md", "questions": ["1. How does Tracardi identify customers?", "2. How can the profile ID be obtained in Tracardi?", "3. What are the scenarios where the profile may be missing and needs to be created?", "4. How can a session ID be changed while keeping the profile unchanged in Tracardi?", "5. Why is it not suggested to send the same session ID with all tracking payloads in Tracardi?"], "answer": "c4b1\"\n  },\n  \"events\": [\n    {\n      \"type\": \"page-view\",\n      \"properties\": {\n        \"pageTitle\": \"My Page\"\n      }\n    },\n    {\n      \"type\": \"consent-granted\",\n      \"properties\": {\n        \"marketing\": false,\n        \"general\": true\n      }\n    },\n    {\n      \"type\": \"product-in-basket\",\n      \"properties\": {\n        \"product\": \"Adidas sneakers\",\n        \"price\": 34.43\n      }\n    }\n  ]\n}\n```\n\n## Understanding Customer Identification in Tracardi\n\nTracardi uses two IDs to identify customers: the profile ID and the session ID. Both of these IDs need to be included in\nevery tracker payload when sending data to Tracardi. The session ID can be generated on the client side using a UUID4\nID, which is a unique identifier, to handle cases where the session is missing. On the other hand, the profile ID is\ngenerated by Tracardi's backend and is not available when a customer visits the page for the first time.\n\n### Obtaining the Profile ID\n\nTo obtain the profile ID, the recommended approach is to send the tracker payload without setting the profile ID, and\nonly generate the session ID. Tracardi will then return the generated profile ID, which needs to be saved on the client\nside. This is how the Tracardi JavaScript snippet works, by saving the profile ID in the browser's localStorage and the\nsession ID in cookies.\n\n## Understanding the Profile\n\nThe profile is a critical part of the payload, and Tracardi aims to keep the profile unchanged at all times to ensure\naccurate tracking and profiling of customer behavior. Therefore, it is important for the client to save the profile ID\nand include it in every call to the `/track` endpoint.\n\nHowever, there may be cases where the profile is missing and needs to be created. This can happen in the following\nscenarios:\n\n* If the payload does not provide a profile ID, such as the first call to Tracardi when the customer's profile ID is\n  unknown and needs to be created\n* The profile ID is provided, but it does not exist in Tracardi's database.\n* If a profile ID is not provided in the tracker payload, but a valid previous session is provided, the system will\n  search for the lost profile by matching the last valid session and return the correct profile ID.\n\nIt is crucial to synchronize the profile ID returned in the response with the profile ID saved on the client side. If\nthe profile ID in the response is different from the one sent, it means that the client should update its profile ID and\ninclude the new one in the next call to avoid potential synchronization issues. Failing to do so may result in the\nprofile ID being recreated with each call to the `/track` API, which can lead to inaccurate tracking and profiling of\ncustomer behavior.\n\n## Understanding Sessions in Tracardi\n\nA session in Tracardi is equivalent to a visit, representing the duration of a user's interaction with a website or\napplication. Ideally, a session should remain the same during one visit, but should change when the user closes their\nbrowser or logs out.\n\n### Changing Session ID while Keeping Profile\n\nIn some cases, the client may want to keep the profile unchanged but change the session ID. To achieve this, the client\ncan provide the profile ID while generating a new session ID. This will result in a new session being created, while the\nprofile remains unchanged, and the system generates a new visit for the user.\n\n### Sending Same Session ID with Tracking Payloads\n\nWhile it is possible to send the same session ID with all the tracking payloads, allowing the system to keep the session\nand profile unchanged, this practice is not suggested. This is because if a profile is saved with only one visit, it\nwill not be possible to change the visits associated with the profile. It is recommended to generate a new session ID\nfor each visit to ensure accurate tracking and profiling of user behavior.\n\nIt is important to note that the session and profile management in Tracardi is crucial for accurate tracking and\nprofiling of user intera", "hash": "be03b90bc4f3f6f5984c3ef0ae9eaa3311f481ae"}